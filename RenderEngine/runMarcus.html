<html>

<head>

<script src="http://code.jquery.com/jquery-1.8.2.min.js" ></script>

<script src="Marcus-TileRender.js" ></script>
<script src="Marcus-TileEngine.js" ></script>

<script>

	if( ( pseudoRandom = true ) ){
		// change the behavior of the random function
		var _seed = 45678951585432565678;
		_seed = Math.floor( Math.random() * 10000000000 );


		//_seed = 8806672480     ;

		console.log( "seed = "+_seed );
		var _offset = _seed;
		Math.random = function(){
				
			var s = _seed;
			var square = s *s;
			
			var nseed = Math.floor( square / 1000 ) % 10000000000;
			
			if( nseed != _seed )
				_seed = nseed;
			else
				_seed = nseed + _offset;
			return ( _seed / 10000000000 );
		}
	}
	window.onload = function(){
	
		var els = [
			{
			type : 1,
			path : [ 
					{ x : 56 , y : 25 },
					{ x : 256 , y : 195 },
					{ x : 356 , y : 55 },
					]
			},
			{
			type : 1,
			path : [ 
					{ x : 356 , y : 225 },
					{ x : 256 , y : 433 },
					{ x : 400 , y : 255 },
					]
			},
		];
		
		var l = 1200;
		for( var i = 0 ; i < 3000 ; i ++ )
			els.push( {
				type : 1,
				path : [ 
						{ x : Math.random() * l , y : Math.random() * l },
						{ x : Math.random() * l , y : Math.random() * l },
						{ x : Math.random() * l , y : Math.random() * l },
						]
				} );
		
		var drw = mrc.DrawerDelegator.createWithElements( els );
		
		drw._els = els;
		
		window.te = mrc.TileEngine.create( $( "#tilesContainer" ) , drw );
		
		
		
		window.onkeypress = function( e ){
			switch( e.charCode ){
				case 122 :
					window.te.translate( 0 , -10 );
				break;
				case 115 :
					window.te.translate( 0 , 10 );
				break;
				case 113  :
					window.te.translate( -10 , 0 );
				break;
				case 100  :
					window.te.translate( 10 , 0 );
				break;
			}
		}
		$("#upbutton").click( function(){
			window.te.translate( 0 , -35 );
		});
		$("#downbutton").click( function(){
			window.te.translate( 0 , 35 );
		});
		$("#rightbutton").click( function(){
			window.te.translate( -35 , 0 );
		});
		$("#leftbutton").click( function(){
			window.te.translate( 35 , 0 );
		});
	}
</script>
<title>proto</title>

</head>

<body>

<div >
<input id="upbutton" type="submit" value="up "></input>
<input id="downbutton" type="submit" value="down"></input>
<input id="rightbutton" type="submit" value="right"></input>
<input id="leftbutton" type="submit" value="left"></input>

or z s d q
<p>
<br>
The rendering of a tile have been virtually increase,
<p>
As the user translate the map, tiles which are in the frame are asked to be drawn ( on x axis only )
<p>
note that a buffer retain the last deleted tile, preventing from redrawing it if thay have to be displayed again

</div>


<div style="position:absolute;top:20%;left:20%;width:500;height:500;">
<div style="position:absolute;top:0px;left:0px;width:inherit;height:inherit;z-index:2;box-shadow: 0 0 2px 6px #333 ;"></div>
<div id="tilesContainer" style="position:absolute;top:0px;left:0px;width:inherit;height:inherit;z-index:-1;"></div>
<div>


</body>
</html>